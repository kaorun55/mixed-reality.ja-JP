---
title: ケーススタディ-RoboRaid での空間サウンドの使用
description: 空間サウンドは、Microsoft HoloLens の最も魅力的な機能の1つであり、オブジェクトが見えなくなったときに、ユーザーが何をしているのかを認識する手段を提供します。
author: mattzmsft
ms.author: hakons
ms.date: 03/21/2018
ms.topic: article
keywords: Windows Mixed Reality、HoloLens、RoboRaid、空間サウンド
ms.openlocfilehash: 1482c914d261cae698a1460873b217b0683cd16b
ms.sourcegitcommit: 8bf7f315ba17726c61fb2fa5a079b1b7fb0dd73f
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 12/17/2019
ms.locfileid: "75181942"
---
# <a name="case-study---using-spatial-sound-in-roboraid"></a>ケーススタディ-RoboRaid での空間サウンドの使用

この記事では、 [RoboRaid](https://www.microsoft.com/p/roboraid/9nblggh5fv3j)for shooter (mixed reality first person) を作成するときに Microsoft HoloLens Experience チームが経験した固有の課題について説明します。

## <a name="the-tech"></a>技術

[空間サウンド](spatial-sound.md)は、Microsoft HoloLens の最も魅力的な機能の1つであり、オブジェクトが見えなくなったときに、ユーザーが何をしているのかを認識する手段を提供します。

RoboRaid では、空間サウンドの最も明白で効果的な使用方法は、ユーザーの周辺の構想の外部で発生していることをプレーヤーに通知することです。 たとえば、部屋でスキャンされた任意の壁面から入力できますが、入力した場所に接続していない場合は、それを見逃してしまう可能性があります。 この侵害についての通知を受け取るために、入力されている場所からのオーディオの音が聞こえます。これにより、簡単に処理を停止する必要があることがわかります。

## <a name="behind-the-scenes"></a>しくみ

HoloLens アプリ用の空間サウンドを作成するプロセスは、新たに一意であり、参照に使用する過去のプロジェクトがないと、問題が発生したときに多数のヘッド初歩が発生する可能性があります。 RoboRaid を作成するときに発生するオーディオの課題の例は、自分のアプリ用にオーディオを作成する際に役立ちます。

### <a name="be-mindful-of-taxing-the-cpu"></a>CPU の消費に注意してください

空間サウンドが CPU で要求している可能性があります。 RoboRaid のようなビジーエクスペリエンスでは、特定の時点で空間サウンドのインスタンスを8未満に保つことが重要でした。 ほとんどの場合、この制限に達した後に発生するすべてのインスタンスが強制終了されるように、さまざまなオーディオイベントのインスタンスの制限を設定するのは簡単でした。 たとえば、ドローンを起動すると、その screams は特定の時点の3つのインスタンスに制限されます。 約4つのドローンを一度に発生させることができます。このような音声イベントの多くは、脳で追跡することができないため、3つの screams は十分です。 これにより、敵爆発や敵の撮影準備など、他の空間サウンドイベントのリソースが解放されます。

### <a name="rewarding-a-successful-dodge"></a>覆い焼きを成功させる

Dodging 整備士は、RoboRaid のゲームプレイの最も重要な側面の1つであり、さらに HoloLens のエクスペリエンスに対して真に固有のものです。 このように、dodges を成功させるには、windows media player を使用する必要がありました。 開発の早い段階では、"whizz by" が非常に優れています。 最初の計画では、ループを使用し、ボリューム、ピッチ、フィルターを使用してリアルタイムで操作しました。 この実装は非常に複雑になります。したがって、実際にビルドするためにリソースをコミットする前に、アセットを使用して安価なプロトタイプを作成しました。これは、その意味を理解するためだけに組み込まれています。 非常に優れた開発者が、このようにしています。これは、選手がプレーヤーの耳によって完成するまでの時間がちょうど0.7 秒前に再生されるようにしました。結果は本当にすばらしいものでした。 言うまでもありませんが、より複雑なソリューションを刷新、プロトタイプを実装しています。

*(ドップラー効果が組み込まれたオーディオ資産を作成する方法の詳細については、「 [100 Whooshes In 2 Minutes](http://designingsound.org/2010/02/26/charles-deenen-special-100-whooshes-in-2-minutes/)」を参照してください)。*  
<br>
![、敵の dodging が正常に完了したら、プレーヤーはゲームに満足しています。](images/successful-dodge-roboraid-500px.jpg)

### <a name="ditching-ineffective-sounds"></a>決別効果のないサウンド

最初は、敵の dodged タイルが正常に再生された後に、プレーヤーの爆発音を再生することにしましたが、いくつかの理由でこれを溝することにしました。 まず、SFX に使用したのと同じように感じていませんでした。 このゲームでは、他のユーザーが壁の後ろに壁を置いたときに、そのサウンドをかなりマスクしてしまうことがありました。 次に、床で衝突が発生していないので、元のタイルが壁ではなくフロアに達したときに、爆発する爆発を得ることができませんでした。 最後に、空間サウンドの CPU コストが発生しました。 エリートスコーピオンの敵 (壁内でのクロールによって) は、8つの projectiles を受ける特別な攻撃を受けています。 このような組み合わせで大きな混乱が発生しただけでなく、CPU の消費が困難になったため、非常に屋内にもなりました。

### <a name="communicating-a-hit"></a>ヒットの通知

私たちは HoloLens エクスペリエンスに固有の問題であり、ヒットしたプレーヤーと効果的に通信することは困難でした。 Mixed reality エクスペリエンスを成功させるには、ストーリーが発生していると感じます。 つまり、宇宙人ロボットが自分の生きた部屋に進攻していると信じなければなりません。

選手は、ヒットしたときに何も感じられないので、問題が発生したことをプレーヤーに納得させる方法を happed 必要がありました。 従来のゲームでは、文字がヒットしたことを知らせるアニメーションが表示されたり、画面が赤で点滅したり、文字が少し grunt したりする可能性があります。 これらの種類のキューは、mixed reality エクスペリエンスでは動作しないため、ビジュアルキューと、破損が発生したことを示す非常に誇張されたサウンドを組み合わせることにしました。 大きなサウンドを作成しました。このようにして、すべてをまとめたミックスで目立つようにしました。 さらに、さらに多くのことを実現するために、核となる部分がシンクだったかのような短い警告音を追加しました。 
<br>
RoboRaid でプレーヤーがヒットしたときには、視覚的な合図が表示されますが、破損していることを示す、誇張されたオーディオキューをます。 ![](images/player-hit-roboraid-500px.jpg)

### <a name="getting-big-sound-from-small-speakers"></a>小さいスピーカーからの大きな音の取得

HoloLens スピーカーは、デバイスのニーズに合わせて小さく、光をすることができないので、あまりに多くのことを知りません。 スマートフォンまたはハンドヘルドゲームデバイス向けの開発と同様に、サウンドデザイナーや作曲者は、オーディオの頻度のコンテンツに注意する必要があります。 常にサウンドをデザインするか、完全な周波数で音楽を書き込むことができます。これは、ユーザーのためのオプションであるためです。 ただし、HoloLens スピーカーとの互換性を確保するために、使用する必要がある DAW のマスターに EQ を配置することで、ときどきテストを実行します。 EQ 設定は、600 ~ 700 Hz を中心とした高パスのフィルター (あまりにも早すぎません) と低パスのフィルターで構成されます (非常に急な速度)。 これにより、サウンドがデバイスでどのように再生されるかをおおよそに把握できるはずです。

低音に依存してコード変更の意味を与える場合、この EQ 設定を適用すると、音楽がルートの意味を完全に失うことがあります。 これを解決するには、1オクターブ以上 (豊富な高周波を使用) の低音に別のレイヤーを追加し、それを組み合わせてルートバックの意味を理解しました。 場合によっては、ディストーションを使用して高周波を分割することで、上限の範囲内に十分な頻度のコンテンツが提供され、その下に何かがあることをブレインで考えることができます。 これは、上司のスーパー攻撃など、特殊な時間の影響、爆発、サウンドなどの SFX に当てはまります。 このような場合、低いエンドツーエンドでは、プレーヤーが影響や重み付けを把握することはできません。 音楽の場合と同様に、ひずみを使用して、少し高速処理に役立っています。

### <a name="making-your-audio-cues-stand-out"></a>オーディオキューを目立たせる

当然ながら、チームの全員が bombastic 音楽、大きな機関銃、爆発した爆発を望んでいました。しかし、voiceover またはその他のゲームに不可欠なオーディオキューについても聞くことを望んでいました。

すべての周波数を持つコンソールゲームでは、サウンドの重要度に応じて、周波数を分割するオプションが増えます。 しかし、RoboRaid では、私は音から出てくる周波数の範囲の数が制限されていました。 たとえば、低パスのフィルターを使用していて、スペクトルの上限よりも多くの曲線を使用している場合は、それほど少ないので、サウンドには何も残っていません。

RoboRaid サウンドをデバイス上で可能な限り大きくするには、さまざまな種類のサウンドに対して重要度の明確な階層を作成することによって、全体的なエクスペリエンスの動的な範囲を下げ、ducking を広範囲にわたって使用する必要がありました。 重要度に応じて、ducking dB から-6 dB に設定します。 私は、ゲームの ducking をはっきりとしていないので、フェードイン/アウトタイミングとボリュームの減衰量の調整に多くの時間を費やしました。 空間サウンド、非空間サウンド、VO、ドライバス用の個別のバスを音楽のリバーブなしでセットアップし、非常に優先度が高く、重要で、重要ではないバスを作成しました。 資産は、適切なバスにアクセスするように設定されています。

私が RoboRaid で作業していたので、オーディオの専門家が自分のアプリに対して楽しく、魅力を持っています。 Microsoft の外部にある有能な人たちが HoloLens を使用することはできません。

## <a name="do-it-yourself"></a>自分でやってみる

部屋がいっぱいになっているように、特定のイベント (爆発など) の "大規模な" サウンドを作成するために発見したトリックは、空間サウンド用の mono 資産を作成し、2D ステレオアセットとミックスして3D で再生することでした。 ステレオコンテンツに含まれる情報が多すぎると、mono 資産の方向が低下するため、調整が必要になります。 ただし、バランスを取ると、大きな音が発生し、プレーヤーが適切な方向に表示されるようになります。

次のオーディオアセットを使用して、この操作を自分で試すことができます。

**シナリオ 1**
1. [Roboraid_enemy_explo_mono .wav](images/roboraid-enemy-explo-mono.wav)をダウンロードし、空間サウンドを使用して再生するように設定し、イベントに割り当てます。
2. [Roboraid_enemy_explo_stereo](images/roboraid-enemy-explo-stereo.wav)をダウンロードし、2d ステレオで再生するように設定して、上記と同じイベントに割り当てます。 これらのアセットは Unity に正規化されるため、両方のアセットのボリュームを減衰させて、クリップしないようにします。
3. 両方のサウンドを同時に再生します。 どのように動作するかを気にするために、頭を動かしてください。

**シナリオ 2**
1. [Roboraid_enemy_explo_summed](images/roboraid-enemy-explo-summed.wav)をダウンロードし、空間サウンドを使用して再生するように設定し、イベントに割り当てます。
2. この資産を単独で再生し、シナリオ1のイベントと比較します。
3. Mono ファイルとステレオファイルのバランスを調整してください。



## <a name="see-also"></a>関連項目
* [立体音響](spatial-sound.md)
* [Microsoft HoloLens 用 RoboRaid](https://www.microsoft.com/p/roboraid/9nblggh5fv3j)
