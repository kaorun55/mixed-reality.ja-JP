---
title: ルームスキャンの視覚化
description: 空間マッピングデータを必要とするアプリケーションでは、ユーザーがデバイスをアクティブにして環境を探索するときに、このデータが時間の経過と共に自動的に収集されるように、デバイスに依存します。
author: mattzmsft
ms.author: alexpf
ms.date: 03/21/2018
ms.topic: article
keywords: Windows Mixed Reality、アプリパターン、設計、HoloLens、ルームスキャン、空間マッピング、surface 再構築、メッシュ
ms.openlocfilehash: 09df4464ea4dac01dfad637886b07b861f468d4d
ms.sourcegitcommit: 17f86fed532d7a4e91bd95baca05930c4a5c68c5
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/11/2019
ms.locfileid: "66829916"
---
# <a name="room-scan-visualization"></a>ルームスキャンの視覚化

空間マッピングデータを必要とするアプリケーションでは、ユーザーがデバイスをアクティブにして環境を探索するときに、このデータが時間の経過と共に自動的に収集されるように、デバイスに依存します。 このデータの完全性と品質は、ユーザーが実行した探索の量、探索から経過した時間、家具やドアなどのオブジェクトが領域をスキャンした後に移動されたかどうかなど、さまざまな要因によって異なります。

便利な空間マッピングデータを確保するために、アプリケーション開発者にはいくつかのオプションがあります。
* 既に収集されている可能性があるものに依存します。 このデータは、最初は不完全である可能性があります。
* ブルームジェスチャを使用して Windows Mixed Reality ホームにアクセスし、エクスペリエンスに使用する領域を調べるようにユーザーに依頼します。 これらのユーザーは、すべての必要な領域がデバイスに認識されていることを、エアタップを使用して確認できます。
* 独自のアプリケーションでカスタム探索エクスペリエンスを構築します。

これらのすべてのケースでは、探索中に収集された実際のデータがシステムによって格納されるため、アプリケーションでこれを行う必要はありません。

## <a name="device-support"></a>デバイスのサポート

<table>
    <colgroup>
    <col width="33%" />
    <col width="33%" />
    <col width="33%" />
    </colgroup>
    <tr>
        <td><strong>機能</strong></td>
        <td><a href="hololens-hardware-details.md"><strong>HoloLens</strong></a></td>
        <td><a href="immersive-headset-hardware-details.md"><strong>イマーシブ ヘッドセット</strong></a></td>
    </tr>
     <tr>
        <td>ルームスキャンの視覚化</td>
        <td>✔️</td>
        <td>❌</td>
    </tr>
</table>



## <a name="building-a-custom-scanning-experience"></a>カスタムスキャンエクスペリエンスの構築

アプリケーションでは、エクスペリエンスの開始時に空間マッピングデータを分析して、その完全性と品質を向上させるために追加の手順を実行する必要があるかどうかを判断できます。 分析によって品質を向上させる必要がある場合は、開発者が視覚エフェクトを使用して、次のことを示す必要があります。
* ユーザーの近くにあるユーザーの合計ボリュームのうち、エクスペリエンスの一部として必要な量
* データを改善するためにユーザーが行う必要がある場所

"良い" スキャンが行われていることをユーザーが認識していません。 スキャンを評価するよう求められた場合は、それらを表示または指定する必要があります。開発者は、スキャンまたは探索フェーズでの空間マッピングデータの更新を含むフィードバックループを実装する必要があります。

多くの場合、必要なスキャン品質を得るために、ユーザーに対して実行する必要があること (たとえば、天井、家具を見てみてください) を伝えることが最適な場合があります。

## <a name="cached-versus-continuous-spatial-mapping"></a>キャッシュと連続空間マッピング

空間マッピングデータは、アプリケーションが使用できる最も負荷の高いデータソースです。 フレームの破棄や途切れなどのパフォーマンスの問題を回避するには、このデータの消費を慎重に行う必要があります。

エクスペリエンス中のアクティブなスキャンは、利点と弊害の両方になる可能性があり、開発者はエクスペリエンスに基づいてどの方法を使用するかを決定する必要があります。

### <a name="cached-spatial-mapping"></a>キャッシュされた空間マッピング

キャッシュされた空間マッピングの場合、アプリケーションは通常、空間マッピングデータのスナップショットを取得し、エクスペリエンスの間、このスナップショットを使用します。

**利点**
* エクスペリエンスの実行中にシステムのオーバーヘッドを削減し、電力、温度、および cpu のパフォーマンスを大幅に向上させます。
* 空間データ内の変更によって中断されないため、メインエクスペリエンスをより簡単に実装できます。
* 物理、グラフィックス、およびその他の目的で空間データの後処理を行う1回限りのコスト。

**デメリット**
* 実際のオブジェクトまたはオブジェクトの移動は、キャッシュされたデータに反映されません。 例: アプリケーションでは、実際に閉じられたときにドアが開いていると考えられる場合があります。
* キャッシュされたバージョンのデータを維持するために、アプリケーションメモリが増える可能性があります。

この方法の良いケースは、制御された環境またはテーブルトップのゲームです。

### <a name="continuous-spatial-mapping"></a>連続空間マッピング

特定のアプリケーションは、スキャンを続行して空間マッピングデータを更新することがあります。

**利点**
* アプリケーションでは、個別にスキャンや探索を行う必要はありません。
* 実際のオブジェクトの動きはゲームによって反映されますが、少し時間がかかることがあります。

**デメリット**
* メインエクスペリエンスの実装がより複雑になります。
* 変化に応じてグラフィックまたは物理の追加処理のオーバーヘッドが発生する可能性があるため、これらのシステムによって段階的に取り込まれたを行う必要があります。
* 電力、温度、および CPU の影響力が高くなります。

このメソッドの優れたケースは、ホログラムがオブジェクトの移動と対話することが予想される場合です。たとえば、holographic 自動車では、床の上のドライブが、開いているか閉じているかに応じて、ドアに正しく入る必要があります。

## <a name="see-also"></a>関連項目
* [空間マッピングの設計](spatial-mapping-design.md)
* [座標系](coordinate-systems.md)
* [立体音響の設計](spatial-sound-design.md)
